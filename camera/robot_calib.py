import numpy as np
import cv2 as cv
Pc = np.array([
    [-102.515, 137.966],
    [-36.401, 129.399],
    [-0.145, 129.399],
    [-36.401, 92.988],
    [0.922, 92.988],
    [4.121, 34.088],
    [43.576, 13.740],
    [81.965, 14.811],
    [44.642, -24.813],
    [84.097, -25.884],
    [-20.405, -14.104],
    [-107.847, 52.293]
], dtype=np.float32)


Pr = np.array([
    [103.4, -14.2],
    [99.1, -38.3],
    [93.1, -54.7],
    [111.6, -39.5],
    [106.8, -55.5],
    [134.4, -58.7],
    [145.2, -75.1],
    [136.3, -93.8],
    [163.9, -80.1],
    [161.6, -99.5],
    [164.1, -54.3],
    [142.6, -11.9]
], dtype=np.float32)

M = cv.estimateAffine2D(Pc, Pr)[0]
np.savez(
    "./camera/robot_calib.npz",
    M=M
)

print("标定参数已保存到 robot_calib.npz")
